<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Completion · Æsh</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">
    <link href="/stylesheets/bootstrap-community.css" media="screen" rel="stylesheet">
    <!-- IE 6-8 support of HTML 5 elements -->
    <!--[if lt IE 9]>
      <script src="/cache/static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script>
    <![endif]-->
    <!-- Defines the project favicon. Change these URLs to your specific project folder on static.jboss.org. -->
    <link href="/cache/static.jboss.org/images/example/favicon.ico" rel="shortcut icon">
    <link href="/cache/static.jboss.org/images/example/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144">
    <link href="/cache/static.jboss.org/images/example/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114">
    <link href="/cache/static.jboss.org/images/example/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72">
    <link href="/cache/static.jboss.org/images/example/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed">
    <!-- Defines the project banner. Change these URLs to your specific project folder on static.jboss.org -->
    <!-- :css -->
    <!-- @media (min-width: 980px) { -->
    <!-- .banner { background-image: url(#{site.project_images_url}/#{site.project}-banner-1180px.png); height: 110px;  } -->
    <!-- } -->
    <!-- @media (max-width: 979px) { -->
    <!-- .banner { background-image: url(#{site.project_images_url}/#{site.project}-logo.png); background-repeat:no-repeat; height: 60px; } -->
    <!-- } -->
    <!-- @media (max-width: 650px) { -->
    <!-- .banner { width: 200px; margin: 0px auto; } -->
    <!-- } -->
    <script src="/cache/static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
  </head>
  <body>
    <!-- begin accesibility skip to top -->
    <ul class="visuallyhidden" id="top">
      <li>
        <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a>
      </li>
      <li>
        <a accesskey="c" href="#page" title="Skip to content">Skip to content</a>
      </li>
    </ul>
    <div class="container" id="content">
      <div class="dropup">
        <a class="tabnav-closed" href="https://www.jboss.org" id="tab">Red Hat</a>
      </div>
      <div class="banner">
        <a href="#"></a>
        <div class="taglinelight visible-desktop">æsh; another extendable shell</div>
      </div>
      <div class="navbar navbar-inverse" id="navbar-fix">
        <div class="navbar-inner">
          <div class="container">
            <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li class=""><a href="http://localhost:4242/index.html">Home</a></li>
                <li class=""><a href="http://localhost:4242/downloads.html">Downloads</a></li>
                <li class=""><a href="http://localhost:4242/docs.html">Documentation</a></li>
                <li class=""><a href="https://issues.jboss.org/browse/AESH">Issues</a></li>
                <li class=""><a href="http://localhost:4242/contribute.html">Contribute</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- /        %ul.nav.pull-right -->
      <!-- /          %li -->
      <!-- /            %form.navbar-search -->
      <!-- /              %input.search-query#projectsearch(type="text" placeholder="Search") -->
      <div class="row-fluid">
        <div id="equalHeightsLayout">
          <div class="span3 well" id="leftcol">
            <h2>Docs</h2>
            <ul class="icons-ul">
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/index.html">
                  Getting started
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/completion.html">
                  Completion
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/redirection.html">
                  Redirection
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/settings.html">
                  Settings
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/editingmode.html">
                  Editing
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/utils.html">
                  Utils
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/parser.html">
                  Command Line Parser
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/alias.html">
                  Aliases
                </a>
              </li>
              <li>
                <i class="icon-li icon-chevron-sign-right"></i>
                <a href="/docs/base/faq.html">
                  FAQ
                </a>
              </li>
            </ul>
          </div>
          <div class="span9" id="maincol">
            <h1>Completion</h1>
            Æsh provide two different ways of doing completions depending on which API you're using. First we will cover the completion API provided when using AeshConsole and then the more low level API when using Console.
            <br>
            <h2>AeshConsole</h2>
            When using AeshConsole the completion is specified for each Option thats defined in a Command. Here is an example of a simple command:
            <div>
              <pre><code>@CommandDefinition(name=&quot;color&quot;, description = &quot;set a color&quot;)&#x000A;public static class ColorCommand implements Command {&#x000A;    @Option&#x000A;    private Color color;&#x000A;&#x000A;    @Override&#x000A;    public CommandResult execute(AeshConsole console) throws IOException {&#x000A;        if(files != null) {&#x000A;          for(File f : files)&#x000A;            console.out().print(f.toString());&#x000A;        }&#x000A;        return CommandResult.SUCCESS;&#x000A;    }&#x000A;}</code></pre>
            </div>
            This command is supposed to let the user select
            <br>
            <h2>Console</h2>
            For Console Æsh provide a simple API to connect commands to its tab-completion list. The only thing thats needed is to implement the
            <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/complete/Completion.java">Completion</a>
            interface and attach it to
            <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/console/Console.java">Console</a>
            with the method
            <kbd>
              addCompletion(Completion)
            </kbd>
            or
            <kbd>
              addCompletions(List<Completion> completionList)
            </kbd>
            A simple Example:
            <div>
              <pre><code>import org.jboss.aesh.complete.*;&#x000A;import org.jboss.aesh.console.*;&#x000A;&#x000A;public class Example {&#x000A;  public static void main(String[] args) throws java.io.IOException {&#x000A;    Console console = new Console(new SettingsBuilder().create());&#x000A;&#x000A;    Completion completer = new Completion() {&#x000A;      @Override&#x000A;      public void complete(CompleteOperation co) {&#x000A;        // very simple completor&#x000A;        // if &lt;tab&gt; is pressed when the buffer is 'fo' or 'foo' it will&#x000A;        // be completed to 'foobar'&#x000A;        if(co.getBuffer().equals(&quot;fo&quot;) || co.getBuffer().equals(&quot;foo&quot;))&#x000A;          co.addCompletionCandidate(&quot;foobar&quot;);&#x000A;      }&#x000A;    };&#x000A;    console.addCompletion(completer);&#x000A;&#x000A;    final ConsoleCallback consoleCallback = new ConsoleCallback() {&#x000A;      @Override&#x000A;      public int readConsoleOutput(ConsoleOperation operation) throws IOException {&#x000A;        console.out().println(&quot;======&gt;\&quot;&quot; + operation.getBuffer());&#x000A;        if (operation.getBuffer().equalsIgnoreCase(&quot;quit&quot;) || &#x000A;            operation.getBuffer().equalsIgnoreCase(&quot;exit&quot;) || &#x000A;            operation.getBuffer().equalsIgnoreCase(&quot;reset&quot;)) {&#x000A;          console.stop();&#x000A;        }&#x000A;      }&#x000A;    };&#x000A;    console.setConsoleCallback(consoleCallback);&#x000A;    console.start();&#x000A;  }&#x000A;}</code></pre>
            </div>
            <h3>CompleteOperation</h3>
            <p></p>
            The object that is sent with every registered Completion object is
            <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/complete/CompleteOperation.java">CompletionOperation :</a>
            <ul class="icons-ul">
              <li><i class="icon-li icon-chevron-sign-right"></i>buffer: is the current line when the user pressed 'tab'
              </li>
              <li><i class="icon-li icon-chevron-sign-right"></i>cursor: the position of the cursor
              </li>
              <li><i class="icon-li icon-chevron-sign-right"></i>completionCandidates: added by the programmer if the buffer match this completion.
              </li>
              <li><i class="icon-li icon-chevron-sign-right"></i>offset: set by the programmer if Æsh should 'chop off' some of the completionCandidate when doing completion. Set it to the same value as cursor to keep the buffer unchanged.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <footer class="container">
      <div class="row-fluid">
        <div class="span2 offset1">
          <h4>Navigate</h4>
          <ul>
            <li>
              <a href="http://localhost:4242/docs/base/index.html" title="Get Started">Get Started</a>
            </li>
            <li>
              <a href="http://localhost:4242/contribute.html" title="Get Involved">Get Involved</a>
            </li>
            <li>
              <a href="http://localhost:4242/downloads.html" title="Download">Download</a>
            </li>
          </ul>
        </div>
        <div class="span2">
          <h4>Contribute</h4>
          <ul>
            <li>
              <a href="https://issues.jboss.org/browse/AESH" title="Submit a bug">Submit a bug</a>
            </li>
            <li>
              <a href="http://localhost:4242/contribute.html" title="Write code">Write Code</a>
            </li>
          </ul>
        </div>
      </div>
    </footer>
    <!-- /    .span3.offset1 -->
    <!-- /      %h4 LGPL 2.1 License -->
    <!-- /      %p All dependencies of this project are available under the LGPL or a compatible license. -->
    <!-- /      %p -->
    <!-- /      .jbossbadge -->
    <!-- /        %a{:href => "http://www.jboss.org/"} -->
    <!-- /          %img{:src => "/cache/static.jboss.org/theme/images/common/jbossbadge.png"}/ -->
    <div class="container" id="companyfooter">
      <div class="redhatlogo">
        <div id="logospacer"></div>
        <a href="http://www.redhat.com/"><img src="/cache/static.jboss.org/theme/images/common/redhat_logo.png"></a>
      </div>
    </div>
    <span class="backToTop">
      <a href="#top">back to top</a>
    </span>
    <script src="/javascripts/bootstrap-community.js"></script>
  </body>
</html>
