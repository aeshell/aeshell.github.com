<!DOCTYPE html> <html lang="en"> <head> <title>Command · Aesh</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="" name="description"> <meta content="" name="author"> <link href="http://static.jboss.org/theme/css/bootstrap-community/2.3.1.1/bootstrap-community.min.css" media="screen" rel="stylesheet"> <!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--> <link href="/favicon.ico" rel="shortcut icon"> <link href="/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <script src="http://static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <link href="http://aeshell.github.io/stylesheets/blog.css" rel="stylesheet" type="text/css"> <link href="http://aeshell.github.io/stylesheets/asciidoctor-coderay.css" media="screen" rel="stylesheet" type="text/css"> <style>
      td.download-size {
        text-align: right;
        padding-right: 10px;
      } 
      
      .white-stripes tr:nth-child(even) {
        background-color: white;
      }
      .white-stripes tr:nth-child(odd) {
        background-color: none;
      }
    </style> </head> <body> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div class="container" id="content"> <div class="banner"> <a href="#"></a> <div class="taglinelight visible-desktop">Æsh, Another Extendable Shell</div> </div> <div class="navbar navbar-inverse" id="navbar-fix"> <div class="navbar-inner"> <div class="container"> <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a> <div class="nav-collapse collapse"> <ul class="nav" id="nav"> <li class=""><a href="http://aeshell.github.io/">Home</a></li> <li class=""><a href="http://aeshell.github.io/about/">About</a></li> <li class=""><a href="http://aeshell.github.io/news/">News</a></li> <li class=""><a href="http://aeshell.github.io/extensions/">Extensions</a></li> <li class=""><a href="http://aeshell.github.io/downloads/">Downloads</a></li> <li class=""><a href="http://aeshell.github.io/docs/">Documentation</a></li> <li class=""><a href="http://github.com/aeshell/aesh">Source Code</a></li> <li class=""><a href="http://aeshell.github.io/contribute/">Contribute</a></li> </ul> </div> </div> </div> </div> <div class='breadcrumb'><a class='breadcrumb_anchor ' href='http://aeshell.github.io/index.html'>Æsh Homepage</a> / <a class='breadcrumb_anchor ' href='http://aeshell.github.io/docs/index.html'>Index</a> / <a class='breadcrumb_anchor active' href='http://aeshell.github.io/docs/command/index.html'>Command</a></div> <span id="page"></span> <div class="row-fluid"> <div id="equalHeightsLayout"> <div class="span3 well" id="leftcol"> <h2>Docs</h2> <ul class="icons-ul"> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/aeshconsole/index.html"> High Level API </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/alias/index.html"> Aliases </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/command/index.html"> Command </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/completion/index.html"> Completion </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/console/index.html"> Low level API </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/editingmode/index.html"> Editing </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/gettingstarted/index.html"> Getting started </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/index.html"> Index </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/option/index.html"> Option </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/parser/index.html"> Command Line Parser </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/redirection/index.html"> Redirection </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/settings/index.html"> Settings </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/utils/index.html"> Utils </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/index.html"> </a> </li> </ul> </div> <div class="span8" id="maincol"> <div class="sect1"> <h2 id="_command">Command</h2> <div class="sectionbody"> <div class="paragraph"> <p>A command in Æsh is a <em>program</em> thats executed in a shell/terminal.</p> </div> <div class="paragraph"> <p>To define a command you have to implement the <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/console/command/Command.java">Command</a> interface. This interface have one method, execute, which is called when the command is executed.</p> </div> <div class="paragraph"> <p>This is however not enough for Æsh, we also need to add some meta-data like command name, description, etc. Currently we can do this in two ways, either through a builder pattern or with the <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/CommandDefinition.java">CommandDefinition</a> annotations. CommandDefinition have two required fields, name and description. Name is the name of the command and description is used by Æsh to provide some automatically generated info. - so the better you are with describing the commands the better runtime info you&#8217;ll get.</p> </div> <div class="paragraph"> <p>There is a third attribute to CommandDefinition which is validator. Validator is of type <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/validator/CommandValidator.java">CommandValidator</a> and will be called just before Command.execute(..) is called. As described in the Option doc Options have their own validator, but with the CommandValidator you can verify the combination of the Option values before executing the Command.</p> </div> <div class="paragraph"> <p>A small example:</p> </div> <div class="listingblock"> <div class="title">ExitCommand.java</div> <div class="content"> <pre class="prettyprint java language-java"><code>@CommandDefinition(name="exit", description = "exit the program")&#x000A;public static class ExitCommand implements Command {&#x000A;    @Override&#x000A;    public CommandResult execute(CommandInvocation invocation) throws IOException {&#x000A;        invocation.stop();&#x000A;        return CommandResult.SUCCESS;&#x000A;    }&#x000A;}</code></pre> </div> </div> <div class="listingblock"> <div class="title">Example with validator:</div> <div class="content"> <pre class="prettyprint java language-java"><code>@CommandDefinition(name = "foo", description = "blah", validator = FooCommandValidator.class)&#x000A;public static class FooCommand implements Command {&#x000A;&#x000A;    @Option(shortName = 'l')&#x000A;    private int low;&#x000A;    @Option(shortName = 'h')&#x000A;    private int high;&#x000A;&#x000A;    @Override&#x000A;    public CommandResult execute(CommandInvocation commandInvocation) throws IOException {&#x000A;        commandInvocation.getShell().out().println("you got foooed");&#x000A;        return CommandResult.SUCCESS;&#x000A;    }&#x000A;}&#x000A;&#x000A;public static class FooCommandValidator implements CommandValidator&lt;FooCommand&gt; {&#x000A;    @Override&#x000A;    public void validate(FooCommand command) throws CommandValidatorException {&#x000A;        if(command.low + command.high &lt; 42)&#x000A;            throw new CommandValidatorException("Sum of high and low must be over 42!");&#x000A;    }&#x000A;}</code></pre> </div> </div> </div> </div> </div> </div> </div> </div> <footer class="container"> <div class="row-fluid"> <div class="span2 offset1"> <h4>Navigate</h4> <ul> <li> <a href="http://aeshell.github.io/about/" title="About">About</a> </li> <li> <a href="http://aeshell.github.io/extensions/" title="Extensions">Extensions</a> </li> <li> <a href="http://aeshell.github.io/downloads/" title="Download">Download</a> </li> </ul> </div> <div class="span2"> <h4>Follow Us</h4> <ul> <li> <a href="http://aeshell.github.io/news/" title="News">News</a> <a href="http://aeshell.github.io/news.atom" title="Atom">(Atom Feed)</a> </li> </ul> </div> <div class="span2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/AESH" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/aeshell/aesh/fork" title="Fork">Fork The Code</a> </li> </ul> </div> <div class="span3 offset1"> <h4>Eclipse Public License - v 1.0</h4> <p>All dependencies of this project are available under the EPL or a compatible license.</p> </div> </div> <div class="row-fluid"> <div class="span6 offset1"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2013 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="http://github.com/aeshell/aeshell.github.org" style="text-decoration: underline;">fork the project, and send a pull request.</a> <br> <i class="icon-share"></i> Website released under <a href="http://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;">CC BY 3.0.</a> </p> </div> <div class="span3 offset1"> <div class="jbossbadge"> <a href="http://www.jboss.org/"> <img src="http://static.jboss.org/theme/images/common/jbossbadge.png"> </a> </div> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="http://static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="http://static.jboss.org/wildfly/scripts/bootstrap-community.min.js"></script> <script type='text/javascript' language='JavaScript' src='http://www.redhat.com/j/elqNow/elqCfg.js'></script> <script type='text/javascript' language='JavaScript' src='http://www.redhat.com/j/elqNow/elqImg.js'></script> <div id="oTags"> <script type="text/javascript" src="//www.redhat.com/j/s_code.js"></script> <script type="text/javascript"><!--
      var coreUrl = encodeURI(document.URL.split("?")[0]).replace(/-/g," ");
      var urlSplit = coreUrl.toLowerCase().split(/\//);
      var urlLast = urlSplit[urlSplit.length-1];
      var pageNameString = "";
      var siteName = "";
      var minorSectionIndex = 3
      if (urlLast == "") {
          urlSplit.splice(-1,1);
      }
      if (urlLast.search(/\./) >= 0) {
          if (urlLast == "index.html") {
              urlSplit.splice(-1,1);
          }
          else {
              urlSplit[urlSplit.length-1] = urlLast.split(".").splice(0,1);
          }
      }
      siteName = urlSplit[2].split(".")[1];
      s.prop14 = s.eVar27 = siteName || "";
      s.prop15 = s.eVar28 = urlSplit[minorSectionIndex] || "";
      s.prop16 = s.eVar29 = urlSplit[minorSectionIndex+1] || "";
      pageNameString = urlSplit.splice(3).join(" | ");
      s.pageName = "jboss | community | " + siteName + " | " + pageNameString;
      s.server = "jboss";
      s.channel = "jboss | community";
      s.prop4 = s.eVar23 = encodeURI(document.URL);
      s.prop21 = s.eVar18 = coreUrl;
      s.prop2 = s.eVar22 = "en";
      s.prop3 = s.eVar19 = "us";
      //--></script> <script type="text/javascript" src="//www.redhat.com/j/rh_omni_footer.js"></script> <script language="JavaScript" type="text/javascript"><!--
      if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
      //--></script> <noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="https://smtrcs.redhat.com/b/ss/redhatcom,redhatglobal/1/H.25.4--NS/0?[AQB]&cdp=3&[AQE]" height="1" width="1" border="0" alt=""/></a></noscript> </div> <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script> <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
    } catch(err) {}</script> </body> </html>