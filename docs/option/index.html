<!DOCTYPE html> <html lang="en"> <head> <title>Option · Aesh</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="" name="description"> <meta content="" name="author"> <link href="http://static.jboss.org/theme/css/bootstrap-community/2.3.1.1/bootstrap-community.min.css" media="screen" rel="stylesheet"> <!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--> <link href="/favicon.ico" rel="shortcut icon"> <link href="/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <script src="http://static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <link href="http://aeshell.github.io/stylesheets/blog.css" rel="stylesheet" type="text/css"> <link href="http://aeshell.github.io/stylesheets/asciidoctor-coderay.css" media="screen" rel="stylesheet" type="text/css"> <style>
      td.download-size {
        text-align: right;
        padding-right: 10px;
      } 
      
      .white-stripes tr:nth-child(even) {
        background-color: white;
      }
      .white-stripes tr:nth-child(odd) {
        background-color: none;
      }
    </style> </head> <body> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div class="container" id="content"> <div class="banner"> <a href="#"></a> <div class="taglinelight visible-desktop">Æsh, Another Extendable Shell</div> </div> <div class="navbar navbar-inverse" id="navbar-fix"> <div class="navbar-inner"> <div class="container"> <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a> <div class="nav-collapse collapse"> <ul class="nav" id="nav"> <li class=""><a href="http://aeshell.github.io/">Home</a></li> <li class=""><a href="http://aeshell.github.io/about/">About</a></li> <li class=""><a href="http://aeshell.github.io/news/">News</a></li> <li class=""><a href="http://aeshell.github.io/extensions/">Extensions</a></li> <li class=""><a href="http://aeshell.github.io/downloads/">Downloads</a></li> <li class=""><a href="http://aeshell.github.io/docs/">Documentation</a></li> <li class=""><a href="http://github.com/aeshell/aesh">Source Code</a></li> <li class=""><a href="http://aeshell.github.io/contribute/">Contribute</a></li> </ul> </div> </div> </div> </div> <div class='breadcrumb'><a class='breadcrumb_anchor ' href='http://aeshell.github.io/index.html'>Æsh Homepage</a> / <a class='breadcrumb_anchor ' href='http://aeshell.github.io/docs/index.html'>Index</a> / <a class='breadcrumb_anchor active' href='http://aeshell.github.io/docs/option/index.html'>Option</a></div> <span id="page"></span> <div class="row-fluid"> <div id="equalHeightsLayout"> <div class="span3 well" id="leftcol"> <h2>Docs</h2> <ul class="icons-ul"> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/aeshconsole/index.html"> High Level API </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/alias/index.html"> Aliases </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/command/index.html"> Command </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/completion/index.html"> Completion </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/console/index.html"> Low level API </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/editingmode/index.html"> Editing </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/gettingstarted/index.html"> Getting started </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/index.html"> Index </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/option/index.html"> Option </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/parser/index.html"> Command Line Parser </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/redirection/index.html"> Redirection </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/settings/index.html"> Settings </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/utils/index.html"> Utils </a> </li> <li> <i class="icon-li icon-chevron-sign-right"></i> <a href="/docs/index.html"> </a> </li> </ul> </div> <div class="span8" id="maincol"> <div class="sect1"> <h2 id="_option">Option</h2> <div class="sectionbody"> <div class="paragraph"> <p>A <a href="http://aeshell.github.io/doc/command/index.html">Command</a> option is defined by either an Option annotation or an OptionBuilder object. In this document we will focus on the annotations and its values. Æsh support several different options types each with defined as a seperate annotation. The differen annotations:</p> </div> <div class="ulist"> <ul> <li> <p><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/Option.java">Option</a></p> <div class="ulist"> <ul> <li> <p>The most common type with a specific name which can have one value (or none)</p> </li> </ul> </div> </li> <li> <p><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/OptionList.java">OptionList</a></p> <div class="ulist"> <ul> <li> <p>The difference between Option and OptionList is that OptionList can have multiple values, by default the value separator is <em>,</em> (comma).</p> </li> </ul> </div> </li> <li> <p><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/OptionGroup.java">OptionGroup</a></p> <div class="ulist"> <ul> <li> <p>OptionGroup is similar to OptionList, but it support specific name for each attribute. Eg: -DXm=100, where D is the option name, where Xm is given the value 100.</p> </li> </ul> </div> </li> <li> <p><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/Arguments.java">Arguments</a></p> <div class="ulist"> <ul> <li> <p>Arguments is almost identical to OptionList except that it do not have a name. Arguments is required for commands that want argument options.</p> </li> </ul> </div> </li> </ul> </div> <div class="sect2"> <h3 id="_common_option_attributes">Common Option attributes</h3> <div class="ulist"> <ul> <li> <p>All the option types have a name and short name (except Arguments). Name is required, if no name is not provided Æsh will use the field name as the name. Æsh will be default add <strong>--</strong> in front of each name on the command line, this is not possible to change. Short name is optional and if defined Æsh will add a <strong>-</strong> in front on the command line.</p> </li> <li> <p>description and argument are both used for documentation and when Æsh generates info based on the metadata.</p> </li> <li> <p>required specifies if this option is required to be set.</p> </li> <li> <p>defaultValue will be displayed during completion (if it matches)</p> </li> <li> <p>hasValue specifies if this option accept values. This option can only be set to true when the field type is boolean/Boolean. This attribute is only for the Option type.</p> </li> <li> <p>overrideRequired will override missing required options. Very useful for help options etc.</p> </li> </ul> </div> <div class="sect3"> <h4 id="__a_href_https_github_com_aeshell_aesh_blob_master_src_main_java_org_jboss_aesh_cl_converter_clconverter_java_converter_a"><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/converter/CLConverter.java">Converter</a></h4> <div class="paragraph"> <p>All Option types have a Converter which is used to convert the input value (String) to the specific field object type. Æsh provides converters for:</p> </div> <div class="ulist"> <ul> <li> <p>Boolean/boolean</p> </li> <li> <p>Byte/byte</p> </li> <li> <p>Character/char</p> </li> <li> <p>Double/double</p> </li> <li> <p>File</p> </li> <li> <p>Float/float</p> </li> <li> <p>Integer/int</p> </li> <li> <p>Long/long</p> </li> <li> <p>Short/short</p> </li> <li> <p>String</p> </li> </ul> </div> <div class="paragraph"> <p>Any other object type need a specific converter. - and remember the converter must have a public constructor with no arguments.</p> </div> </div> <div class="sect3"> <h4 id="__a_href_https_github_com_aeshell_aesh_blob_master_src_main_java_org_jboss_aesh_cl_completer_optioncompleter_java_optioncompleter_a"><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/completer/OptionCompleter.java">OptionCompleter</a></h4> <div class="paragraph"> <p>A Completer is optional, but for better user experience we recommend that Completers are used. Æsh provide completers for:</p> </div> <div class="ulist"> <ul> <li> <p>File</p> </li> <li> <p>Boolean</p> </li> <li> <p>Default values</p> </li> </ul> </div> <div class="paragraph"> <p>As Converters the Completer implementation must have a public constructor with no arguments.</p> </div> </div> <div class="sect3"> <h4 id="__a_href_https_github_com_aeshell_aesh_blob_master_src_main_java_org_jboss_aesh_cl_validator_optionvalidator_java_optionvalidator_a"><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/validator/OptionValidator.java">OptionValidator</a></h4> <div class="paragraph"> <p>OptionValidator is called just before Command.execute(&#8230;) and is used to ensure that the value given by the user is valid. OptionValidator is optional, but as with the attributes above we recommend that it is used.</p> </div> </div> <div class="sect3"> <h4 id="__a_href_https_github_com_aeshell_aesh_blob_master_src_main_java_org_jboss_aesh_cl_activation_optionactivator_java_optionactivator_a"><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/activation/OptionActivator.java">OptionActivator</a></h4> <div class="paragraph"> <p>Some options might depend on another option value to be set or a specific value before the option is "visible". By defining an OptionValidator you can define a specific logic that will trigger the visibility of the option. This attribute is highly optional.</p> </div> </div> <div class="sect3"> <h4 id="__a_href_https_github_com_aeshell_aesh_blob_master_src_main_java_org_jboss_aesh_cl_renderer_optionrenderer_java_optionrenderer_a"><a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/renderer/OptionRenderer.java">OptionRenderer</a></h4> <div class="paragraph"> <p>With OptionRenderer you can specify how a specific option should look. Eg you can change the text color/background color and text type.</p> </div> <div class="listingblock"> <div class="title">ExitCommand.java</div> <div class="content"> <pre class="prettyprint java language-java"><code>@CommandDefinition(name="ls", description = "[OPTION]... [FILE]...")&#x000A;public static class TestCommand implements Command {&#x000A;&#x000A;    @Option(shortName = 'f', hasValue = false, description = "set foo to true/false")&#x000A;    private Boolean foo;&#x000A;&#x000A;    @Option(hasValue = false, description = "set the bar", renderer = BlueBoldRenderer.class)&#x000A;    private boolean bar;&#x000A;&#x000A;    @Option(completer = TestCompleter.class, defaultValue = {"MORE"}, argument = "SIZE")&#x000A;    private String less;&#x000A;&#x000A;    @OptionList(defaultValue = "/tmp", description = "file location", valueSeparator = ':',&#x000A;            validator = DirectoryValidator.class,&#x000A;            activator = BarActivator.class)&#x000A;    List&lt;File&gt; files;&#x000A;&#x000A;    @Option(hasValue = false, description = "display this help and exit")&#x000A;    private boolean help;&#x000A;&#x000A;    @Arguments&#x000A;    private List&lt;File&gt; arguments;&#x000A;&#x000A;    @Override&#x000A;    public CommandResult execute(CommandInvocation commandInvocation) throws IOException {&#x000A;        if(help) {&#x000A;            commandInvocation.getShell().out().println(commandInvocation.getHelpInfo("ls"));&#x000A;        }&#x000A;        else {&#x000A;            if(foo)&#x000A;                commandInvocation.getShell().out().println("you set foo to: " + foo);&#x000A;            if(bar)&#x000A;                commandInvocation.getShell().out().println("you set bar to: " + bar);&#x000A;            if(less != null)&#x000A;                commandInvocation.getShell().out().println("you set less to: " + less);&#x000A;            if(files != null)&#x000A;                commandInvocation.getShell().out().println("you set file to: " + files);&#x000A;&#x000A;            if(arguments != null) {&#x000A;                for(File f : arguments)&#x000A;                    commandInvocation.getShell().out().println(f.toString());&#x000A;            }&#x000A;        }&#x000A;        return CommandResult.SUCCESS;&#x000A;    }&#x000A;}&#x000A;&#x000A;public static class TestCompleter implements OptionCompleter {&#x000A;&#x000A;    @Override&#x000A;    public void complete(CompleterData completerData) {&#x000A;        List&lt;String&gt; completeList = new ArrayList&lt;String&gt;();&#x000A;        if(completerData.getGivenCompleteValue() == null ||&#x000A;           completerData.getGivenCompleteValue().length() == 0)&#x000A;            completeList.add("1");&#x000A;        else {&#x000A;            char lastChar =&#x000A;                completerData.getGivenCompleteValue().charAt(completerData.getGivenCompleteValue().length()-1);&#x000A;            if(Character.isDigit(lastChar)) {&#x000A;                int i = (int) lastChar;&#x000A;                i++;&#x000A;                completeList.add(completerData.getGivenCompleteValue()+i);&#x000A;            }&#x000A;        }&#x000A;    }&#x000A;}&#x000A;&#x000A;public static class DirectoryValidator implements OptionValidator&lt;File&gt; {&#x000A;    @Override&#x000A;    public void validate(File value) throws OptionValidatorException {&#x000A;        if(!value.isDirectory()) {&#x000A;            throw new OptionValidatorException("File validation failed, must be a directory.");&#x000A;        }&#x000A;    }&#x000A;}&#x000A;&#x000A;public static class BarActivator implements OptionActivator {&#x000A;&#x000A;    @Override&#x000A;    public boolean isActivated(ProcessedCommand processedCommand) {&#x000A;        ProcessedOption bar = processedCommand.findLongOption("bar");&#x000A;        if(bar != null &amp;&amp; bar.getValue() != null)&#x000A;            return true;&#x000A;        else&#x000A;            return false;&#x000A;    }&#x000A;}&#x000A;&#x000A;public static class BlueBoldRenderer implements OptionRenderer {&#x000A;&#x000A;    private static TerminalTextStyle style = new TerminalTextStyle(CharacterType.UNDERLINE);&#x000A;    private static TerminalColor color = new TerminalColor(42, Color.DEFAULT);&#x000A;&#x000A;    @Override&#x000A;    public TerminalColor getColor() {&#x000A;        return color;&#x000A;    }&#x000A;&#x000A;    @Override&#x000A;    public TerminalTextStyle getTextType() {&#x000A;        return style;&#x000A;    }&#x000A;}</code></pre> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <footer class="container"> <div class="row-fluid"> <div class="span2 offset1"> <h4>Navigate</h4> <ul> <li> <a href="http://aeshell.github.io/about/" title="About">About</a> </li> <li> <a href="http://aeshell.github.io/extensions/" title="Extensions">Extensions</a> </li> <li> <a href="http://aeshell.github.io/downloads/" title="Download">Download</a> </li> </ul> </div> <div class="span2"> <h4>Follow Us</h4> <ul> <li> <a href="http://aeshell.github.io/news/" title="News">News</a> <a href="http://aeshell.github.io/news.atom" title="Atom">(Atom Feed)</a> </li> </ul> </div> <div class="span2"> <h4>Contribute</h4> <ul> <li> <a href="https://issues.jboss.org/browse/AESH" title="Submit a bug">Submit a bug</a> </li> <li> <a href="https://github.com/aeshell/aesh/fork" title="Fork">Fork The Code</a> </li> </ul> </div> <div class="span3 offset1"> <h4>Eclipse Public License - v 1.0</h4> <p>All dependencies of this project are available under the EPL or a compatible license.</p> </div> </div> <div class="row-fluid"> <div class="span6 offset1"> <p style="margin-top: 5px; font-size: 80%;"> © Copyright 2013 Red Hat, Inc. <br> <i class="icon-fire"></i> Made with <a href="https://github.com/jbossorg/bootstrap-community" style="text-decoration: underline;">JBoss Community Bootstrap</a> and <a href="http://awestruct.org/" style="text-decoration: underline;">Awestruct</a> <br> <i class="icon-globe"></i> This website is open source! If you want to improve it, <a href="http://github.com/aeshell/aeshell.github.org" style="text-decoration: underline;">fork the project, and send a pull request.</a> <br> <i class="icon-share"></i> Website released under <a href="http://creativecommons.org/licenses/by/3.0/" style="text-decoration: underline;">CC BY 3.0.</a> </p> </div> <div class="span3 offset1"> <div class="jbossbadge"> <a href="http://www.jboss.org/"> <img src="http://static.jboss.org/theme/images/common/jbossbadge.png"> </a> </div> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="http://static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="http://static.jboss.org/wildfly/scripts/bootstrap-community.min.js"></script> <script type='text/javascript' language='JavaScript' src='http://www.redhat.com/j/elqNow/elqCfg.js'></script> <script type='text/javascript' language='JavaScript' src='http://www.redhat.com/j/elqNow/elqImg.js'></script> <div id="oTags"> <script type="text/javascript" src="//www.redhat.com/j/s_code.js"></script> <script type="text/javascript"><!--
      var coreUrl = encodeURI(document.URL.split("?")[0]).replace(/-/g," ");
      var urlSplit = coreUrl.toLowerCase().split(/\//);
      var urlLast = urlSplit[urlSplit.length-1];
      var pageNameString = "";
      var siteName = "";
      var minorSectionIndex = 3
      if (urlLast == "") {
          urlSplit.splice(-1,1);
      }
      if (urlLast.search(/\./) >= 0) {
          if (urlLast == "index.html") {
              urlSplit.splice(-1,1);
          }
          else {
              urlSplit[urlSplit.length-1] = urlLast.split(".").splice(0,1);
          }
      }
      siteName = urlSplit[2].split(".")[1];
      s.prop14 = s.eVar27 = siteName || "";
      s.prop15 = s.eVar28 = urlSplit[minorSectionIndex] || "";
      s.prop16 = s.eVar29 = urlSplit[minorSectionIndex+1] || "";
      pageNameString = urlSplit.splice(3).join(" | ");
      s.pageName = "jboss | community | " + siteName + " | " + pageNameString;
      s.server = "jboss";
      s.channel = "jboss | community";
      s.prop4 = s.eVar23 = encodeURI(document.URL);
      s.prop21 = s.eVar18 = coreUrl;
      s.prop2 = s.eVar22 = "en";
      s.prop3 = s.eVar19 = "us";
      //--></script> <script type="text/javascript" src="//www.redhat.com/j/rh_omni_footer.js"></script> <script language="JavaScript" type="text/javascript"><!--
      if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
      //--></script> <noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="https://smtrcs.redhat.com/b/ss/redhatcom,redhatglobal/1/H.25.4--NS/0?[AQB]&cdp=3&[AQE]" height="1" width="1" border="0" alt=""/></a></noscript> </div> <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script> <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
    } catch(err) {}</script> </body> </html>